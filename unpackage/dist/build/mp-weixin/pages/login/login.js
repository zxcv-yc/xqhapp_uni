(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"781f":function(n,t,o){"use strict";o.r(t);var e=o("894f"),u=o("b8ae");for(var i in u)"default"!==i&&function(n){o.d(t,n,(function(){return u[n]}))}(i);o("9cbd");var r,a=o("f0c5"),c=Object(a["a"])(u["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],r);t["default"]=c.exports},"7a46":function(n,t,o){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=u(o("f991"));function u(n){return n&&n.__esModule?n:{default:n}}var i={data:function(){return{phoneNum:"",password:"",error:""}},onLoad:function(){this.allRequest()},onShow:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},methods:{allRequest:function(){},doWxLogin:function(){n.getProvider({service:"oauth",success:function(t){~t.provider.indexOf("weixin")&&n.login({provider:"weixin",success:function(t){n.getUserInfo({provider:"weixin",success:function(t){if(console.log(t),"getUserInfo:ok"==t.errMsg){var o=t.userInfo,u={url:"AppWx/wxLogin",method:"post"},i={openid:o.openId,nickname:o.nickName,headimgurl:o.avatarUrl};console.log(i),e.default.httpTokenRequest(u,i).then((function(n){console.log(n.data)}),(function(n){console.log(n)}))}else n.showModal({title:"提示",content:"获取微信信息失败,请稍后再试",showCancel:!1})}})},fail:function(n){console.log(n)},complete:function(n){console.log(n)}})}})},doLogin:function(){var t=this;if(!t.validation())return t.$refs.uTips.show({title:t.error,type:"warning",duration:"2300"}),!1;var o={url:"AppWx/login",method:"post"},u={username:t.phoneNum,password:t.password};e.default.httpTokenRequest(o,u).then((function(o){200==o.data.code?(t.$refs.uTips.show({title:o.data.msg,type:"success",duration:"2300"}),n.setStorageSync("userInfo",o.data.data),n.setStorageSync("city_id",370700),n.navigateBack({delta:1})):t.$refs.uTips.show({title:o.data.msg,type:"error",duration:"2300"}),console.log(o.data)}),(function(n){console.log(n)}))},validation:function(n){var t=this,o=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1}))+\d{8})$/;return o.test(t.phoneNum)?""!==t.password||(this.error="请输入您的密码",!1):(this.error="请填写正确的手机号",!1)}}};t.default=i}).call(this,o("543d")["default"])},"894f":function(n,t,o){"use strict";var e={"u-top-tips":function(){return o.e("uview-ui/components/u-top-tips/u-top-tips").then(o.bind(null,"add7"))},"u-icon":function(){return o.e("uview-ui/components/u-icon/u-icon").then(o.bind(null,"c80c"))}},u=function(){var n=this,t=n.$createElement;n._self._c},i=[];o.d(t,"b",(function(){return u})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return e}))},"8bb6":function(n,t,o){"use strict";(function(n){o("0bf5"),o("921b");e(o("66fd"));var t=e(o("781f"));function e(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,o("543d")["createPage"])},"9cbd":function(n,t,o){"use strict";var e=o("f7db"),u=o.n(e);u.a},b8ae:function(n,t,o){"use strict";o.r(t);var e=o("7a46"),u=o.n(e);for(var i in e)"default"!==i&&function(n){o.d(t,n,(function(){return e[n]}))}(i);t["default"]=u.a},f7db:function(n,t,o){}},[["8bb6","common/runtime","common/vendor"]]]);